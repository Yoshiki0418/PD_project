<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>企業・ビジネス向け シンプル無料ホームページテンプレート tp_biz61</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="ここにサイト説明を入れます">
<link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='css/foods_style.css')}}">
<script src="{{url_for('static', filename='js/script.js')}}" defer></script>
</head>

<body>

<div id="container">

<header id ="head">
<h1 id="logo"><a href="{{ url_for('index') }}"><img src="{{ url_for('static', filename='images/top.png') }}" class ="top_pic" alt="SAMPLE COMPANY"></a></h1>
	<!--開閉ブロック-->
	<div id="menubar">
	<nav>
	<ul>
	<li><a href="{{ url_for('index') }}">HOME</a></li>
	<li class="current"><a href="company.html">COMPANY</a></li>
	<li><a href="">WORKS</a>
		<ul>
		<li><a href="works.html">WORKS.WORKS.</a></li>
		<li><a href="works.html">WORKS</a></li>
		<li><a href="works.html">WORKS</a></li>
		</ul>
	</li>
	<li><a href="contact.html">CONTACT</a></li>
	</ul>
	</nav>
	</div>
	<!--/#menubar-->
</header>

<div id="contents">

<main>

<section>
	<div class="add">
		<h2><span class="uline">食材追加</span></h2>
		<div class="add_block">
			<div class="pic_block">
				<img src="{{ url_for('static', filename='images/some_pic.png') }}" class="circle_pic">
				<p class="link_txt">一括撮影</p>
			</div>
			<div class="pic_block">
				<img src="{{ url_for('static', filename='images/personal_pic.png') }}" class="circle_pic">
				<p class="link_txt">単体撮影</p>
			</div>
			<div class="pic_block">
				<img src="{{ url_for('static', filename='images/memo_pic.png') }}" class="circle_pic">
				<p class="link_txt">手入力</p>
			</div>
		</div>
	</div>
	<div class="category">
		<h2><span class="uline">カテゴリー</span></h2>
		<div class="category_block">
			<div class="category_icon">
				<div class="image_container">
					<img src="{{ url_for('static', filename='images/vegetable.png') }}" class="vegitable_pic">
				</div>
				<p class="link_txt">野菜</p>
			</div>
			<div class="category_icon">
				<div class="image_container">
					<img src="{{ url_for('static', filename='images/meat.png') }}" class="meat_pic">
				</div>
				<p class="link_txt">肉</p>
			</div>
			<div class="category_icon">
				<div class="image_container">
					<img src="{{ url_for('static', filename='images/fish.png') }}" class="fish_pic">
				</div>
				<p class="link_txt">魚</p>
			</div>
			<div class="category_icon">
				<div class="image_container">
					<img src="{{ url_for('static', filename='images/seasoning.png') }}" class="seasoning_pic">
				</div>
				<p class="link_txt">調味料</p>
			</div>
			<div class="category_icon">
				<div class="image_container">
					<img src="{{ url_for('static', filename='images/cheese.png') }}" class="cheese_pic">
				</div>
				<p class="link_txt">乳製品</p>
			</div>
			<div class="category_icon">
				<div class="image_container">
					<img src="{{ url_for('static', filename='images/freeze.png') }}" class="freeze_pic">
				</div>
				<p class="link_txt">冷凍食品</p>
			</div>
			<div class="category_icon">
				<div class="image_container">
					<img src="{{ url_for('static', filename='images/list.png') }}" class="list_pic">
				</div>
				<p class="link_txt">一覧</p>
			</div>
		</div>
		<h2><span></span></h2>
	</div>
	<div class="foods_list">
		<div class="search-container">
			<form action="/search" method="post">
				<input type="text" class="search-bar" name="query" placeholder="探している食材を入力" value="{{ query }}">
				<button type="submit" class="search-btn">Search</button>
			</form>
		</div>
	</div>
	<div class="foods_container">
		{% for item in items %}
			{% if item.category == 1 %}
				<div class="item1" data-expiry="{{ item.expiry }}" data-days-left="{{ item.days_left }}" data-is-present="{{ item.is_present }}">
					<div class="item_set">
						<div class="circle-container">
							<div class="circle"></div>
							<img src="{{ url_for('static', filename='images/ingredients/' + item.image_file) }}" alt="{{ item.name }}" class="image">
							<div class="date-circle">{{ item.days_left }}</div> 
						</div>
						<span class="item_name">{{ item.name }}</span>
						<!--<span>{{ item.expiry if item.expiry}}</span>-->
					</div>
				</div>
			{% endif %}
		{% endfor %}
		<a><div id="edit-button" style="display: none;" class="button1"><div>編集</div></div></a>
		<a><div id="fixed-button" style="display: none;" class="button1"><div>レシピ</div></div></a>
	</div>
	<div class="select_food">
		<div class="foods_container2">
			{% for item in items %}
				{% if item.is_present %}
					<div class="item" id="food_{{ item.id }}" data-expiry="{{ item.expiry }}" data-days-left="{{ item.days_left }}">
						<div class="item_set">
							<div class="circle-container">
								<div class="circle"></div>
								<img src="{{ url_for('static', filename='images/ingredients/' + item.image_file) }}" alt="{{ item.name }}" class="image">
							</div>
							<span class="item_name">{{ item.name }}</span>
							<span class="item_IngredientID" style="display: none;">{{ item.IngredientID }}</span> 
						</div>
					</div>
				{% endif %}
			{% endfor %}
		</div>
		<div class="select_show_space">
			<div class="select_show_block"id ="select_show1" >
				<div class="show_space" id ="select_show"></div>
				<a><div class="select_botton">作成</div></a>
			</div>
		</div>
	</div>
	
	

</section>

<section>

<h2><span class="uline">上部メニューについてno</span></h2>
<p>画面幅が900px未満で、メインメニューが開閉ブロックタイプになります。<br>
この数値を変更したい場合は、jsフォルダのmain.jsの、<br>
<span class="look">if(window.innerWidth &lt; <span class="color-check">900</span>)</span><br>
の、<span class="color-check">900</span>の数値を変更して下さい。</p>

<h3>ドロップダウンメニューについて</h3>
<p>「WRKS」のメニューはドロップダウンメニューになっています。<br>
ドロップダウンを使う為の特別な設定は不要ですが、必ず親となるli要素の「中」に入れるようにして下さい。</p> 
<p>※OKな例：<br>
<span class="look">
<span class="color-check">&lt;li&gt;&lt;a href=&quot;&quot;&gt;親となるメニュー&lt;/a&gt;</span><br>
&lt;ul&gt;<br>
&lt;li&gt;&lt;a href=&quot;list.html&quot;&gt;ドロップダウンのメニュー&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a href=&quot;list.html&quot;&gt;ドロップダウンのメニュー&lt;/a&gt;&lt;/li&gt;<br>
&lt;/ul&gt;<br>
<span class="color-check">&lt;/li&gt;</span>
</span>
</p>
<p>※NGな例<br>
<span class="look">
<span class="color-check">&lt;li&gt;&lt;a href=&quot;&quot;&gt;親となるメニュー&lt;/a&gt;&lt;/li&gt;</span><br>
&lt;ul&gt;<br>
&lt;li&gt;&lt;a href=&quot;list.html&quot;&gt;ドロップダウンのメニュー&lt;/a&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;a href=&quot;list.html&quot;&gt;ドロップダウンのメニュー&lt;/a&gt;&lt;/li&gt;<br>
&lt;/ul&gt;
</span>
</p>
<p>親の&lt;a&gt;のリンク先は上記のように空っぽ（&quot;&quot;）にしておいて下さい。</p>
<p>ドロップダウンの親メニューについているアイコンもFont Awesomeです。<br>
cssフォルダのstyle.cssの「a.ddmenu::before」で読み込んでいます。</p>

<h3>現在ページ表示中のメニューについて</h3>
<p>現在表示中のページのメニューには色がつきますが、その説明です。</p>
<p>通常は、<br>
<span class="look">&lt;li&gt;&lt;a href=&quot;&quot;&gt;メニュー名&lt;/a&gt;&lt;/li&gt;</span><br>
のようになっていますがこれを、<br>
<span class="look">&lt;li <span class="color-check">class=&quot;current&quot;</span>&gt;&lt;a href=&quot;&quot;&gt;メニュー名&lt;/a&gt;&lt;/li&gt;</span><br>
とする事で色がつきます。<br>
自動で色がつくわけではないのでご注意下さい。</p>

</section>

<section>

<h2><span class="uline">トップページの「お知らせ」ブロックのアイコンについて</span></h2>
<p>アイコン内のテキストはhtml側で直接入力されていますので必要に応じて編集して下さい。</p>
<p>背景色は、cssフォルダのstyle.cssの、<br>
<span class="look">.new dt span</span><br>
や、<br>
<span class="look">.new dt span.icon-bg1</span><br>
や、<br>
<span class="look">.new dt span.icon-bg2</span><br>
のbackgroundでそれぞれ変更できます。</p>
<p>新しいアイコンを追加したい場合、上記の「.new dt span.icon-bg2」ブロックをコピペし、<span class="color-check">.icon-bg2</span>部分を<span class="color-check">.icon-bg3</span>などに変更し、backgroundに好きな色を設定します。<br>
後はhtml側で、<br>
<span class="look">&lt;span class=&quot;<span class="color-check">icon-bg3</span>&quot;&gt;〜〜〜&lt;/span&gt;</span><br>
などとすればOKです。</p>
<p>尚、あまり文字数が増えるとレイアウトが崩れるので注意して下さい。</p>

</section>

<section>

<h2><span class="uline">テーブル</span></h2>
<p>テーブルのサンプルです。必要があればコピペして使って下さい。</p>

<table class="ta1">
<caption>必要があれば大見出しを使って下さい</caption>
<tr>
<th>見出し</th>
<td>ここに本文を入れます。サンプルテキスト。</td>
</tr>
<tr>
<th>見出し</th>
<td>ここに本文を入れます。サンプルテキスト。</td>
</tr>
<tr>
<th>見出し</th>
<td>ここに本文を入れます。サンプルテキスト。</td>
</tr>
<tr>
<th>見出し</th>
<td>ここに本文を入れます。サンプルテキスト。</td>
</tr>
<tr>
<th>見出し</th>
<td>ここに本文を入れます。サンプルテキスト。</td>
</tr>
<tr>
<th>見出し</th>
<td>ここに本文を入れます。サンプルテキスト。</td>
</tr>
</table>

</section>

<section>

<h2><span class="uline">汎用開閉ブロックのサンプル</span></h2>
<p>以下は「よく頂く質問」を仮定してサンプルを用意していますが汎用的な開閉ブロックなので、基本的にはどこにでも使えます。<br>
クリック対象としたいブロックに<span class="look"><span class="color-check">class=&quot;openclose&quot;</span></span>とつければ、続く要素が自動的に開閉ブロックになります。<br>
もしすでにclass指定がある場合は、半角スペースで区切って追加すればOKです。<br>
<span class="look">例：class=&quot;sample <span class="color-check">openclose</span>&quot;</span></p>

<dl class="faq">

<dt class="openclose">ここに質問を書きます。クリックで回答が開きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

<dt class="openclose">ここに質問を書きます。クリックで回答が開きます。ここに質問を書きます。クリックで回答が開きます。ここに質問を書きます。クリックで回答が開きます。ここに質問を書きます。クリックで回答が開きます。</dt>
<dd>ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。<br>
ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。ここに回答を書きます。サンプルテキスト。</dd>

</dl>

</section>

</main>

<main class="column">

<div class="main">

	<section>

	<h2><span class="uline">2カラムで使う場合</span></h2>
	
	<p>&lt;main&gt;を、&lt;main <span class="color-check">class=&quot;column&quot;</span>&gt;<br>
	に変更。</p>
	<p>その中に、左右のブロック（<span class="color-check">mainとsub</span>）を追加します。<br>
	mainが２つありますが、それぞれ異なる要素になるので間違えないようにして下さい。</p>
	<p>全体としては、以下のような形になります。</p>

	<p><span class="look">&lt;main <span class="color-check">class=&quot;column</span>&quot;&gt;<br><br>
	&lt;div <span class="color-check">class=&quot;main</span>&quot;&gt;<br>
	※ここにメインコンテンツの内容を入れます。<br>
	&lt;/div&gt;<br><br>
	&lt;div <span class="color-check">class=&quot;sub</span>&quot;&gt;<br>
	※ここにサブコンテンツの内容を入れます。<br>
	&lt;/div&gt;<br><br>
	&lt;/main&gt;</span></p>

	</section>

</div>
<!--/.main-->

<div class="sub">

	<div class="box1">

	<h3>見出し</h3>

	<nav>
	<ul class="submenu">
	<li><a href="">サブメニュー</a></li>
	<li><a href="">サブメニュー</a></li>
	<li><a href="">サブメニュー</a></li>
	<li><a href="">サブメニュー</a></li>
	<li><a href="">サブメニュー</a></li>
	</ul>
	</nav>

	</div>
	<!--/.box1-->

</div>
<!--/.sub-->

</main>

</div>
<!--/#contents-->

<ul id="footermenu">
<li><a href="index.html">ホーム</a></li>
<li><a href="company.html">会社概要</a></li>
<li><a href="works.html">業務内容</a></li>
<li><a href="contact.html">コンタクト</a></li>
</ul>

<footer>
<small>Copyright&copy; <a href="index.html">SAMPLE COMPANY</a> All Rights Reserved.</small>
<span class="pr"><a href="https://template-party.com/" target="_blank">《Web Design:Template-Party》</a></span>
</footer>

<!--ページの上部へ戻るボタン-->
<div class="pagetop"><a href="#"><i class="fas fa-angle-double-up"></i></a></div>

</div>
<!--/#container-->

<!--開閉ボタン（ハンバーガーアイコン）-->
<div id="menubar_hdr">
<span></span><span></span><span></span>
</div>

<!--jQueryの読み込み-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!--このテンプレート専用のスクリプト-->
<script src="{{url_for('static' , filename='js/main.js') }}"></script>

<script>
	window.addEventListener('scroll', function() {
  var fixedButton = document.getElementById('fixed-button');
  var desiredHeight = 500; // この高さに達したら表示

  if (window.scrollY > desiredHeight) {
    fixedButton.style.display = 'block';
  } else {
    fixedButton.style.display = 'none';
  }
});
</script>
<script>
	window.addEventListener('scroll', function() {
  var fixedButton = document.getElementById('edit-button');
  var desiredHeight = 500; // この高さに達したら表示

  if (window.scrollY > desiredHeight) {
    fixedButton.style.display = 'block';
  } else {
    fixedButton.style.display = 'none';
  }
});
</script>

<script>
	window.addEventListener('scroll', function() {
  var fixedButton = document.getElementById('select_show1');
  var desiredHeight = 500; // この高さに達したら表示

  if (window.scrollY > desiredHeight) {
    fixedButton.style.display = 'block';
  } else {
    fixedButton.style.display = 'none';
  }
});
</script>

<script>
	window.addEventListener('scroll', function() {
  var fixedButton = document.getElementById('head');
  var desiredHeight = 500; // この高さに達したら非表示

  if (window.scrollY > desiredHeight) {
    fixedButton.style.display = 'none';
  } else {
    fixedButton.style.display = '';
  }
});
</script>

<script>
	document.querySelectorAll('.item').forEach(item => {
    item.addEventListener('click', function() {
        this.classList.toggle('selected');
        var selectShowBlock = document.getElementById('select_show');
        var itemName = this.querySelector('.item_name').textContent; // 食材の名前を取得

        var circleContainer = this.querySelector('.circle-container');
        var overlay = circleContainer.querySelector('.overlay');
        if (!overlay) {
            overlay = document.createElement('img');
            overlay.src = '/static/images/選択済み.png';
            overlay.classList.add('overlay');
            circleContainer.appendChild(overlay);
        }

        overlay.style.display = this.classList.contains('selected') ? 'block' : 'none';

        // 食材の画像をselect_show_blockに反映する
        var foodImage = this.querySelector('.image').cloneNode(true);
        foodImage.classList.add('select_show_image'); // スタイルを適用するためのクラスを追加

        // 食材の名前を表示する要素を作成
        var nameTag = document.createElement('div');
        nameTag.textContent = itemName;
        nameTag.classList.add('select_show_name'); // 名前のスタイル適用

        // アイテムと名前を格納するコンテナ
        var itemContainer = document.createElement('div');
        itemContainer.classList.add('select_show_item_container');

        if (this.classList.contains('selected')) {
            // アイテムを追加
            itemContainer.appendChild(foodImage);
            itemContainer.appendChild(nameTag); // 名前の要素を追加
            selectShowBlock.appendChild(itemContainer);
        } else {
            // アイテムを削除
            var containers = selectShowBlock.getElementsByClassName('select_show_item_container');
            Array.from(containers).forEach(container => {
                if (container.querySelector('.select_show_image').src === foodImage.src) {
                    selectShowBlock.removeChild(container);
                }
            });
        }
    });
});

</script>


<script>
	document.getElementById('confirm-button').addEventListener('click', function() {
    var selectedItems = document.querySelectorAll('.item.selected');
    var selectedNames = Array.from(selectedItems).map(item => item.querySelector('.item_IngredientID').textContent);

    // 選択された食材の名前をサーバーに送信
    sendDataToServer(selectedNames);
	});

	function sendDataToServer(data) {
		// ここにサーバーへの送信処理を記述
		var xhr = new XMLHttpRequest();
		xhr.open('POST', '/path/to/server/endpoint', true);
		xhr.setRequestHeader('Content-Type', 'application/json');
		xhr.send(JSON.stringify({selectedItems: data}));

		xhr.onload = function() {
			if (xhr.status === 200) {
				console.log('サーバーへの送信が成功:', xhr.responseText);
			} else {
				console.log('サーバーへの送信に失敗:', xhr.status);
			}
		};
	}

</script>

</body>
</html>
